<!DOCTYPE html>
<html lang="en">
<head>
  <title>Pet sitter profile </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

  <!-- Firebase App is always required and must be first -->
<script src="https://www.gstatic.com/firebasejs/5.5.9/firebase-app.js"></script>

<!-- Add additional services that you want to use -->
<script src="https://www.gstatic.com/firebasejs/5.5.9/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.9/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.9/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.9/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.9/firebase-functions.js"></script>
<script>
		 // Initialize Firebase
  var config = {
    apiKey: "AIzaSyD_0R_l1eCXcNV3yz9FwGv6xpNbuVqDUEQ",
    authDomain: "petsitting-2f921.firebaseapp.com",
    databaseURL: "https://petsitting-2f921.firebaseio.com",
    projectId: "petsitting-2f921",
    storageBucket: "",
    messagingSenderId: "600150747898"
  };
  firebase.initializeApp(config);

 </script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <!-- Bootstrap CSS -->
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

	<script src="https://cdn.jsdelivr.net/npm/gijgo@1.9.10/js/gijgo.min.js" type="text/javascript"></script>
    <link href="https://cdn.jsdelivr.net/npm/gijgo@1.9.10/css/gijgo.min.css" rel="stylesheet" type="text/css" />
  <link href="petsitter.css" rel="stylesheet" id="bootstrap-local">
  <!-- <script src="petsitter.js"></script> -->
</head>
<body>
<nav class="navbar navbar-expand-md navbar-expand-lg navbar-lorder-1 order-md-0 bg-light">
      <a class="navbar-brand" href="homePage.html">FindAPetSitter.com</a>
    <div class="navbar-collapse collapse w-100  dual-collapse2">
      <input class="form-control" type="search" placeholder="Search a person or location" aria-label="Search">
        
    </div>
    <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown">
               <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              
              <img src="Images/blank_user.png" class="img-thumbnail" alt = "menu" height ="50" width = "50">
              </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          <a class="dropdown-item" href="yourProfile.html">My Profile</a>
          <a class="dropdown-item" href="ReceivedRequests.html">Requests</a>
          <a class="dropdown-item" href="SittingHistory.html">History</a>
          <a class="dropdown-item" href="YourReviews.html">Reviews</a>
        </div>
            </li>
            <!-- <li class="nav-item">
                <a class="nav-link" href="#">Link</a>
            </li> -->
        </ul>
    </div>
    
</nav>
<div>

  <ul class="nav nav-tabs">
    <li class="nav-item">
      <a class="nav-link" href="yourProfile.html">My Profile</a>
    </li>
   
    <li class="nav-item">
      <a class="nav-link active" href="petsitter.html">Pet Sitter Settings</a>
    </li>
    <!-- <li class="nav-item">
      <a class="nav-link disabled" href="#">Pet Sitter Settings</a>
    </li> -->
  </ul>

</div>
<br>
<div class="container">
	<!--HERE-->
	<div id="saveChangesSuccess" class="alert alert-success collapse" role="alert">
  Your changes have been saved successfully!
</div>
	<form class="form-horizontal"  onsubmit="saveChangesFunction()" method="post">
		<fieldset>
			<div class="row no-gutter" >
			
				<div class="col-md-7">
				<p id="mandatory" style="color:red"></p>
					<div class="form-group">
					  <label for="rate"><b>Base Rate per day per pet (USD)</b></label>
					  <div class="col-md-2">
						<Input type="text" class="form-control" id="rate" name="rate" placeholder="$0" />
					  </div>
					</div>
					<div class="form-group">
					  <label class="form-check-label"><b>I can</b> </label>
					  <div class="col-md-9">
						<label class="form-check-label">
							<input type="checkbox" class="form-check-input" id="visithome" value="">visit owners home
						</label>
						<br/>
						<label class="form-check-label">
							<input type="checkbox" class="form-check-input" value="" id="sitatmyhome">Pet sit in my home
						</label>
					  </div>
					</div>
					<div class="form-group">
					  <label class="form-check-label"><b>I can  take care of </b></label>
					  <div class="col-md-9">
						<label class="form-check-label">
							<input type="checkbox" class="form-check-input" id="dog" value="">Dogs
						</label>
						<br/>
						<label class="form-check-label">
							<input type="checkbox" class="form-check-input" id="cat" value="">Cats
						</label>
						<br/>
							<label class="form-check-label">
							<input type="checkbox" class="form-check-input" id ="bird" value="">Birds
						</label>
						<br/>
							<label class="form-check-label">
							<input type="checkbox" class="form-check-input" id="mammal" value="">Small Mammals
						</label>
						<br/>
							<label class="form-check-label">
							<input type="checkbox" class="form-check-input" id="fish" value="">Fish
						</label>
						<br/>
						<label class="form-check-label">
							<input type="checkbox" class="form-check-input" id="reptile" value="">Reptiles
						</label>
						<br/>

						<label class="form-check-label">
							<input type="checkbox" class="form-check-input" id="other" value="">Others	
							<textarea class="form-control" rows="5" id="comment2" readonly="true"></textarea>
						</label>
						<br/>
					  </div>
					 </div> 
					 
					 
					 
					 
					 
					 
					 <div class="form-group">
					  <label><b>Amenities I have</b></label>
					  <div class="col-md-9">
						<label class="form-check-label">
							<input id="backyard" type="checkbox" class="form-check-input" value="">Backyard
						</label>
						<br/>
						<label class="form-check-label">
							<input id="fence" type="checkbox" class="form-check-input" value="">Fence
						</label>
						<br/>
							<label class="form-check-label">
							<input id="balcony" type="checkbox" class="form-check-input" value="">Balcony
						</label>
						<br/>
												<label class="form-check-label">
							<input type="checkbox" class="form-check-input" value="" id="otherStuff" >Others
							<textarea class="form-control" rows="5" id="comment3" readonly="true"></textarea>
						</label>
					  </div>
					 </div> 
					 
					 
					 
					
				
				</div>
						

				<div class="col-md-5">
					<div class="form-group">
					<label for="message"><b>Availability</b></label><br/>
						<label id="av" style="font-weight: bold; font-style: italic;"><i><b></b></i></label><br/>
						 <label for="fromDate"> From </label> 
						<input id="fromDate" placeholder="MM/DD/YYYY" width="276" />
						<label for="toDate"> To </label> 
						<input id="toDate" placeholder="MM/DD/YYYY" width="276" />
						<br/>
						<label for="message" class="form-check-label"><b>I can offer </b></label>
						<div class="col-md-9">
							<label class="form-check-label">
								<input type="checkbox" class="form-check-input" id="walk" value="">Walks
							</label>
							<br/>
							<label class="form-check-label">
								<input type="checkbox" class="form-check-input" id="medication" value="">Giving Medications
							</label>
							<br/>
								<label class="form-check-label">
								<input type="checkbox" class="form-check-input" id="training" value="">Training
							</label>
							<br/>
								<label class="form-check-label">
								<input type="checkbox" class="form-check-input" id="grooming" value="">Grooming
							</label>
							<br/>
								<label class="form-check-label">
								<input type="checkbox" class="form-check-input" id="otherOffers" value="">Others
								<br/>
								<textarea class="form-control" readonly="true" rows="5" id="comment4"></textarea>
							</label>
							<br/>
							<br/>
						</div>
					</div>
					<div class="form-group">
						<label for="message" class="form-check-label"><b>Public Bio</b></label>
						<div class="col-md-9">
							<textarea class="form-control" id="bio" name="message" placeholder="People searching for petsitters will see this" rows="5"></textarea>
						</div>
					</div>
					<div class="form-group">
						  <div class="col-md-12 text-center">
							<button id ="saveChanges" type="button" class="btn btn-primary btn-md" onclick="savePetSitterSettings()">Save changes</button>
							
						  </div>
					</div>
					<div class="form-group">
						  <div class="col-md-12 text-center">
							<button id="editChanges" type="button" class="btn btn-primary btn-md" onclick="editSettings()">Edit Settings</button>
							</div>
					</div>
				</div >
			</div>
		</fieldset>
	</form>
	</div>

	<script> 
	$(document).ready(function(){
		console.log("ready");
		var ispetsit = sessionStorage.getItem("isEditPetSitter");
		console.log("is pet sit", ispetsit);
		setInputValues();
		setReadOnly(true);
		if(sessionStorage.getItem("isEditPetSitter") === "true"){
			console.log("hey goes in here");
			setReadOnly(false);
		}
	});

	function editSettings(){
		sessionStorage.setItem("isEditPetSitter", "true");
		$("#mandatory").text("All Fields are Mandatory to Fill");
		setReadOnly(false);

	}



	function setReadOnly(canRead){
		if(canRead){
			$("#saveChanges").hide();
			$("#editChanges").show();
		}else{
			$("#saveChanges").show();
			$("#editChanges").hide();
			$("#mandatory").text("All Fields are Mandatory to Fill");
		}
		$("#rate").prop("readonly", canRead);
		$("#visithome").prop("disabled", canRead);
		$("#sitatmyhome").prop("disabled", canRead);
		$("#dog").prop("disabled", canRead);
		$("#cat").prop("disabled", canRead);
		$("#bird").prop("disabled", canRead);
		$("#mammal").prop("disabled", canRead);
		$("#fish").prop("disabled", canRead);
		$("#reptile").prop("disabled", canRead);
		$("#other").prop("disabled", canRead);

		$("#commentPets").prop("disabled", canRead);
		$("#backyard").prop("disabled", canRead);
		$("#fence").prop("disabled", canRead);
		$("#balcony").prop("disabled", canRead);
		$("#otherStuff").prop("disabled", canRead);
		$("#commentStuff").prop("disabled", canRead);

		$("#fromDate").prop("readonly", canRead);
		$("#toDate").prop("readonly", canRead);
		$("#walk").prop("disabled", canRead);
		$("#medication").prop("disabled", canRead);
		$("#training").prop("disabled", canRead);
		$("#grooming").prop("disabled", canRead);
		$("#otherOffers").prop("disabled", canRead);
		$("#commentOffer").prop("readonly", canRead);
		$("#bio").prop("readonly", canRead);
	}

	function setInputValues(){
		var rate = sessionStorage.getItem("rate");
		var visithome = sessionStorage.getItem("visithome") == "true";
		console.log("can visit home", visithome);
		var sitatmyhome = sessionStorage.getItem("sitatmyhome") == "true";
		var canSitDogs = sessionStorage.getItem("canSitDogs") == "true";
		var canSitCats = sessionStorage.getItem("canSitCats") == "true";
		var canSitBirds = sessionStorage.getItem("canSitBirds") == "true";
		var canSitMammals = sessionStorage.getItem("canSitMammals") == "true";
		var canSitFish = sessionStorage.getItem("canSitFish") == "true";
		var canSitReptiles = sessionStorage.getItem("canSitReptiles") == "true";
		var canSitOthers = sessionStorage.getItem("canSitOthers") == "true";

		var commentPets = sessionStorage.getItem("commentPets");
		var backyard = sessionStorage.getItem("backyard") == "true";
		var fence = sessionStorage.getItem("fence") == "true";
		var balcony = sessionStorage.getItem("balcony") == "true";
		var otherStuff = sessionStorage.getItem("otherStuff") == "true";
		var commentStuff = sessionStorage.getItem("commentStuff");


		var fromDate = sessionStorage.getItem("fromDate");
		var toDate = sessionStorage.getItem("toDate");
		var walk = sessionStorage.getItem("walk") == "true";
		var medication = sessionStorage.getItem("medication") == "true";
		var training = sessionStorage.getItem("training") == "true";
		var grooming = sessionStorage.getItem("grooming") == "true";
		var otherOffers = sessionStorage.getItem("otherOffers") == "true";
		var commentOffer = sessionStorage.getItem("commentOffer");
		var bio = sessionStorage.getItem("bio");

		$("#rate").val(rate);
		$("#visithome").prop( "checked", visithome)
		$("#sitatmyhome").prop( "checked", sitatmyhome);
		$("#dog").prop( "checked", canSitDogs);
		$("#cat").prop( "checked", canSitCats);
		$("#bird").prop( "checked", canSitBirds);
		$("#mammal").prop( "checked", canSitMammals);
		$("#fish").prop( "checked", canSitFish);
		$("#reptile").prop( "checked", canSitReptiles);
		$("#other").prop( "checked",canSitOthers);

		$("#commentPets").val(commentPets);
		$("#backyard").prop("checked", backyard);
		$("#fence").prop("checked", fence);
		$("#balcony").prop("checked", balcony);
		$("#otherStuff").prop("checked", otherStuff);
		$("#commentStuff").val(commentStuff)

		$("#fromDate").val(fromDate);
		$("#toDate").val(toDate);
		$("#walk").prop( "checked",walk);
		$("#medication").prop( "checked", medication);
		$("#training").prop( "checked", training);
		$("#grooming").prop( "checked", grooming);
		$("#otherOffers").prop( "checked", otherOffers);
		$("#commentOffer").val(commentOffer);
		$("#bio").val(bio);
		// console.log(sessionStorage.getItem("fromDate"));
		if(sessionStorage.getItem("fromDate")){
			 $("#av").text("You are currently available in below dates:");
		 } else{
		 	$("#av").text("You are NOT currently available");
		 }

	}

	function savePetSitterSettings(){

		var rate = $("#rate").val();
		var visithome = $("#visithome").prop( "checked" ) ? "true" : "false";
		// console.log("visit home: ", visithome);
		var sitatmyhome = $("#sitatmyhome").prop( "checked" ) ? "true" : "false";
		console.log("sit at home: ", $("#sitatmyhome").checked);
		var canSitDogs = $("#dog").prop( "checked" ) ? "true" : "false";
		var canSitCats = $("#cat").prop( "checked" ) ? "true" : "false";
		var canSitBirds = $("#bird").prop( "checked" ) ? "true" : "false";
		var canSitMammals = $("#mammal").prop( "checked" ) ? "true" : "false";
		var canSitFish = $("#fish").prop( "checked" ) ? "true" : "false";
		var canSitReptiles = $("#reptile").prop( "checked" ) ? "true" : "false";
		var canSitOthers = $("#other").prop( "checked" ) ? "true" : "false";

		var commentPets = $("#commentPets").val();
		var backyard =  $("#backyard").prop( "checked" ) ? "true" : "false";
		var fence = $("#fence").prop( "checked" ) ? "true" : "false";
		var balcony = $("#balcony").prop( "checked" ) ? "true" : "false";
		var otherStuff = $("#otherStuff").prop( "checked" ) ? "true" : "false";
		var commentStuff = $("#commentStuff").val();

		var fromDate = $("#fromDate").val();
		var toDate = $("#toDate").val();
		var walk = $("#walk").prop( "checked" ) ? "true" : "false";
		var medication = $("#medication").prop( "checked" ) ? "true" : "false";
		var training = $("#training").prop( "checked" ) ? "true" : "false";
		var grooming = $("#grooming").prop( "checked" ) ? "true" : "false";
		var otherOffers = $("#otherOffers").prop( "checked" ) ? "true" : "false";
		var commentOffer = $("#commentOffer").val();
		var bio = $("#bio").val();

		sessionStorage.setItem("rate", rate);
		sessionStorage.setItem("visithome", visithome);
		sessionStorage.setItem("sitatmyhome", sitatmyhome);
		sessionStorage.setItem("canSitDogs", canSitDogs);
		sessionStorage.setItem("canSitCats", canSitCats);
		sessionStorage.setItem("canSitBirds", canSitBirds);
		sessionStorage.setItem("canSitMammals", canSitMammals);
		sessionStorage.setItem("canSitFish", canSitFish);
		sessionStorage.setItem("canSitReptiles", canSitReptiles);
		sessionStorage.setItem("canSitOthers", canSitOthers);

		sessionStorage.setItem("commentPets", commentPets);
		sessionStorage.setItem("backyard", backyard);
		sessionStorage.setItem("fence", fence);
		sessionStorage.setItem("balcony", balcony);
		sessionStorage.setItem("otherStuff", otherStuff);
		sessionStorage.setItem("commentStuff", commentStuff);

		sessionStorage.setItem("fromDate", fromDate)
		sessionStorage.setItem("toDate", toDate);
		sessionStorage.setItem("walk", walk);
		sessionStorage.setItem("medication", medication);
		sessionStorage.setItem("training", training);
		sessionStorage.setItem("grooming", grooming);
		sessionStorage.setItem("otherOffers", otherOffers);
		sessionStorage.setItem("commentOffer", commentOffer);
		sessionStorage.setItem("bio", bio);
		sessionStorage.setItem("isEditPetSitter", "false");
		// $("#saveChanges").hide();
		// $("#editChanges").show();
		setReadOnly(true);
		$("#mandatory").text("");
		location.reload();
	}
	
		$('#fromDate').datepicker({
            uiLibrary: 'bootstrap4'
        });
        $('#toDate').datepicker({
            uiLibrary: 'bootstrap4'
        });

 $("#fromDate").val(sessionStorage.getItem("fromDate"));
 $("#toDate").val(sessionStorage.getItem("toDate"));
 



	</script>
	 
	 <script> 
	
	
		$('#fromDateSitting').datepicker({
            uiLibrary: 'bootstrap4'
        });
        $('#toDateSitting').datepicker({
            uiLibrary: 'bootstrap4'
        });

 $("#fromDateSitting").val(sessionStorage.getItem("fromDateSitting"));
 $("#toDateSitting").val(sessionStorage.getItem("toDateSitting"));
 



	</script>
	 <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  
</body>
</html>
